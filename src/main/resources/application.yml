logging:
  level:
    root: WARN
    tacos: DEBUG
  file:
    name: log/tacocloud.log

taco:
  orders:
    pageSize: 10


  discount:
    codes:
      abcdef: 10
spring:
  main:
    web-application-type: none
  profiles:
    active:
      - H2
      - kafka
  jpa:
    show-sql: true
    properties:
      hibernate:
        format_sql: true


tacocloud:
  api:
    url: http://localhost:8080/orders/fromEmail
  email:
    host: imap.tacocloud.com
    mailbox: INBOX
    username: taco-in-flow
    password: 1L0v3T4c0s
    poll-rate: 10000

---
spring:
  config:
    activate:
      on-profile: jms
  artemis:
    host: localhost
    port: 61616
    user: admin
    password: admin
    embedded:
      enabled: false
  jms:
    template:
      default-destination: tacocloud.order.queue

---
spring:
  config:
    activate:
      on-profile: rabbit
  rabbitmq:
    host: localhost
    port: 5672
    username: guest
    password: guest
    template:
      exchange: tacocloud.order
      routing-key: kitchens.central
---
spring:
  config:
    activate:
      on-profile: kafka
  kafka:
    bootstrap-servers:
      - localhost:9092
    template:
      default-topic: tacocloud.orders.topic
    producer:
      keySerializer: org.springframework.kafka.support.serializer.JsonSerializer
      valueSerializer: org.springframework.kafka.support.serializer.JsonSerializer
---
spring:
  config:
    activate:
      on-profile: H2

  datasource:
    generate-unique-name: false
    name: tacocloud

---
spring:
  config:
    activate:
      on-profile: postgres
  datasource:
    driver-class-name: org.postgresql.Driver
    url: jdbc:postgresql://localhost:5432/taco
    username: user
    password: password
    hikari:
      data: data.sql
  jpa:
    hibernate:
      ddl-auto: update